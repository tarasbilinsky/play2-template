@import base.controllers.EnvironmentAll
@import base.MyConfigImplicit.MyConfig
@* end redundant imports *@

@(
    title: String = null,
    styles: scala.List[String]=scala.List(),
    scripts: scala.List[String]=scala.List(),
    headerOn: scala.Boolean = true,
    footerOn: scala.Boolean = true,
    jqueryOn: scala.Boolean = true,
    twbootstrapOn: scala.Boolean = true
)(
    content: Html
)(
    implicit env: EnvironmentAll, request: Request[AnyContent]
)

@for(
    pageTitle <- Some( (title ?: "") + " - " + env.config.appName );
    isDevMode = env.isDevMode;
    isGoogleAnalyticsOn = !isDevMode && !env.config.googleAnalytics.number.isEmpty;

    jquery = if(jqueryOn || twbootstrapOn) List("jquery-1.11.3.min") else Nil;
    bootstrap = if(twbootstrapOn) List("bootstrap.min") else Nil;
    dev = if(isDevMode) List("dev") else Nil;

    pageStyles =  bootstrap ::: styles ::: dev;
    pageScripts = jquery ::: bootstrap ::: scripts
){
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    @if(!isDevMode){@inc.jsErrorsMonitoring()}

    <title>@pageTitle</title>

    @for(css <- pageStyles){
    <link href='?!routes.Assets.at("stylesheets/" +css+".css")' rel="stylesheet">
    }

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>

    @if(headerOn){
        ?!header(pageTitle)
    }

    <div class="container">
        @content
    </div>

    @if(footerOn){
        ?!footer()
    }

@for(js <- pageScripts){
<script src='?!routes.Assets.at("javascripts/" +js+".js")'></script>
}@if(isGoogleAnalyticsOn){@inc.googleanalytics()} </body>
</html>
}